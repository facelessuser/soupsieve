<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A modern CSS selector library for Beautiful Soup."><link href=https://facelessuser.github.io/soupsieve/api/ rel=canonical><link rel=prev href=..><link href=../faq/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>API - Soup Sieve</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><script src=../assets/pymdownx-extras/material-extra-theme-2ek1P7jT.js type=text/javascript></script><script src=../assets/pymdownx-extras/material-extra-3rdparty-BUCF4rjN.js type=text/javascript></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/pymdownx-extras/extra-c6ab11540a.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <a href=../about/contributing/#contributing--support>Sponsorship</a> is now available! <span class="twemoji heart-throb"> <svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewbox="0 0 16 16"><path fill-rule=evenodd d="M7.655 14.916L8 14.25l.345.666a.752.752 0 01-.69 0zm0 0L8 14.25l.345.666.002-.001.006-.003.018-.01a7.643 7.643 0 00.31-.17 22.08 22.08 0 003.433-2.414C13.956 10.731 16 8.35 16 5.5 16 2.836 13.914 1 11.75 1 10.203 1 8.847 1.802 8 3.02 7.153 1.802 5.797 1 4.25 1 2.086 1 0 2.836 0 5.5c0 2.85 2.045 5.231 3.885 6.818a22.075 22.075 0 003.744 2.584l.018.01.006.003h.002z"/></svg> </span> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <a href=https://facelessuser.github.io/soupsieve/ title="Soup Sieve" class="md-header__button md-logo" aria-label="Soup Sieve"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Soup Sieve </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API </span> </div> </div> </div> <div class=md-header__options> <div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon"> <a href=javascript:toggleScheme(); title="Light mode" class=light-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </a> <a href=javascript:toggleScheme(); title="Dark mode" class=dark-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </a> <a href=javascript:toggleScheme(); title="System preference" class=system-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg> </a> <a href=javascript:toggleScheme(); title="Unknown scheme" class=unknown-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/facelessuser/soupsieve title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../selectors/ class=md-tabs__link> CSS Selectors </a> </li> <li class=md-tabs__item> <a href=../about/contributing/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Soup Sieve" class="md-nav__button md-logo" aria-label="Soup Sieve" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> Soup Sieve </label> <div class=md-nav__source> <a href=https://github.com/facelessuser/soupsieve title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flags class=md-nav__link> <span class=md-ellipsis> Flags </span> </a> <nav class=md-nav aria-label=Flags> <ul class=md-nav__list> <li class=md-nav__item> <a href=#soupseivedebug class=md-nav__link> <span class=md-ellipsis> soupseive.DEBUG </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#soupsieveselect_one class=md-nav__link> <span class=md-ellipsis> soupsieve.select_one() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveselect class=md-nav__link> <span class=md-ellipsis> soupsieve.select() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveiselect class=md-nav__link> <span class=md-ellipsis> soupsieve.iselect() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveclosest class=md-nav__link> <span class=md-ellipsis> soupsieve.closest() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievematch class=md-nav__link> <span class=md-ellipsis> soupsieve.match() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievefilter class=md-nav__link> <span class=md-ellipsis> soupsieve.filter() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveescape class=md-nav__link> <span class=md-ellipsis> soupsieve.escape() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievecompile class=md-nav__link> <span class=md-ellipsis> soupsieve.compile() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievepurge class=md-nav__link> <span class=md-ellipsis> soupsieve.purge() </span> </a> </li> <li class=md-nav__item> <a href=#custom-selectors class=md-nav__link> <span class=md-ellipsis> Custom Selectors </span> </a> </li> <li class=md-nav__item> <a href=#namespaces class=md-nav__link> <span class=md-ellipsis> Namespaces </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> F.A.Q. </span> </a> </li> <li class=md-nav__item> <a href=../differences/ class=md-nav__link> <span class=md-ellipsis> Beautiful Soup Differences </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../selectors/ class="md-nav__link "> <span class=md-ellipsis> CSS Selectors </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> CSS Selectors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../selectors/basic/ class=md-nav__link> <span class=md-ellipsis> Basic Selectors </span> </a> </li> <li class=md-nav__item> <a href=../selectors/combinators/ class=md-nav__link> <span class=md-ellipsis> Combinators and Lists </span> </a> </li> <li class=md-nav__item> <a href=../selectors/pseudo-classes/ class=md-nav__link> <span class=md-ellipsis> Pseudo Classes </span> </a> </li> <li class=md-nav__item> <a href=../selectors/unsupported/ class=md-nav__link> <span class=md-ellipsis> Non-Applicable Pseudo Classes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing &amp; Support </span> </a> </li> <li class=md-nav__item> <a href=../about/development/ class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=../about/security/ class=md-nav__link> <span class=md-ellipsis> Security Vulnerabilities </span> </a> </li> <li class=md-nav__item> <a href=../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flags class=md-nav__link> <span class=md-ellipsis> Flags </span> </a> <nav class=md-nav aria-label=Flags> <ul class=md-nav__list> <li class=md-nav__item> <a href=#soupseivedebug class=md-nav__link> <span class=md-ellipsis> soupseive.DEBUG </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#soupsieveselect_one class=md-nav__link> <span class=md-ellipsis> soupsieve.select_one() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveselect class=md-nav__link> <span class=md-ellipsis> soupsieve.select() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveiselect class=md-nav__link> <span class=md-ellipsis> soupsieve.iselect() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveclosest class=md-nav__link> <span class=md-ellipsis> soupsieve.closest() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievematch class=md-nav__link> <span class=md-ellipsis> soupsieve.match() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievefilter class=md-nav__link> <span class=md-ellipsis> soupsieve.filter() </span> </a> </li> <li class=md-nav__item> <a href=#soupsieveescape class=md-nav__link> <span class=md-ellipsis> soupsieve.escape() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievecompile class=md-nav__link> <span class=md-ellipsis> soupsieve.compile() </span> </a> </li> <li class=md-nav__item> <a href=#soupsievepurge class=md-nav__link> <span class=md-ellipsis> soupsieve.purge() </span> </a> </li> <li class=md-nav__item> <a href=#custom-selectors class=md-nav__link> <span class=md-ellipsis> Custom Selectors </span> </a> </li> <li class=md-nav__item> <a href=#namespaces class=md-nav__link> <span class=md-ellipsis> Namespaces </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=api>API<a class=headerlink href=#api title="Permanent link"></a></h1> <p>Soup Sieve implements most of the selectors from the stable specification and even many from the latest draft specification. Selectors can be used to detect and filter elements. To learn more about which specific selectors are implemented, see <a href=../selectors/ >CSS Selectors</a>.</p> <p>Soup Sieve will detect the document type being used from the Beautiful Soup object that is given to it, and depending on the document type, its behavior may be slightly different.</p> <p>When detecting XHTML, Soup Sieve simply looks to see if the root element of an XML document is under the XHTML namespace and does not currently look at the <code>doctype</code>. If in the future there is a need for stricter XHTML detection, this may change.</p> <ul> <li> <p>HTML document types (HTML, HTML5) will have their tag names and attribute names treated without case sensitivity, like most browsers do.</p> </li> <li> <p>XML document types (including XHTML) will have their tag names and attribute names treated with case sensitivity.</p> </li> <li> <p>HTML5, XHTML and XML documents will have namespaces evaluated per the document's support (provided via the parser). Some additional configuration is required when using namespaces, see <a href=#namespaces>Namespace</a> for more information.</p> <div class="admonition tip"> <p class=admonition-title>Getting Proper Namespaces</p> <p>The <code>html5lib</code> parser provides proper namespaces for HTML5, but <code>lxml</code>'s HTML parser will not. If you need namespace support for HTML5, consider using <code>html5lib</code>.</p> <p>For XML, the <code>lxml-xml</code> parser (<code>xml</code> for short) will provide proper namespaces. It is generally suggested that <code>lxml-xml</code> is used to parse XHTML documents to take advantage of namespaces.</p> </div> </li> <li> <p>While attribute values are generally treated as case sensitive, HTML5 and HTML treat the <code>type</code> attribute special. The <code>type</code> attribute's value is always case insensitive. This is generally how most browsers treat <code>type</code>. If you need <code>type</code> to be sensitive, you can use the <code>s</code> flag: <code class=highlight><span class=o>[</span><span class=nt>type</span><span class=o>=</span><span class=s2>&quot;submit&quot;</span><span class=w> </span><span class=nt>s</span><span class=o>]</span></code>.</p> </li> </ul> <p>While Soup Sieve access is exposed through Beautiful Soup's API, Soup Sieve's API can always be imported and accessed directly for more controlled tag selection if needed.</p> <h2 id=flags>Flags<a class=headerlink href=#flags title="Permanent link"></a></h2> <h3 id=soupseivedebug><code>soupseive.DEBUG</code><a class=headerlink href=#soupseivedebug title="Permanent link"></a></h3> <p>Print debug output when parsing a selector.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>soupsieve</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>sv</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;p:has(#id) &gt; span.some-class:contains(text)&#39;</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=n>sv</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
<span class=go>## PARSING: &#39;p:has(#id) &gt; span.some-class:contains(text)&#39;</span>
<span class=go>TOKEN: &#39;tag&#39; --&gt; &#39;p&#39; at position 0</span>
<span class=go>TOKEN: &#39;pseudo_class&#39; --&gt; &#39;:has(&#39; at position 1</span>
<span class=go>    is_pseudo: True</span>
<span class=go>    is_open: True</span>
<span class=go>    is_relative: True</span>
<span class=go>TOKEN: &#39;id&#39; --&gt; &#39;#id&#39; at position 6</span>
<span class=go>TOKEN: &#39;pseudo_close&#39; --&gt; &#39;)&#39; at position 9</span>
<span class=go>TOKEN: &#39;combine&#39; --&gt; &#39; &gt; &#39; at position 10</span>
<span class=go>TOKEN: &#39;tag&#39; --&gt; &#39;span&#39; at position 13</span>
<span class=go>TOKEN: &#39;class&#39; --&gt; &#39;.some-class&#39; at position 17</span>
<span class=go>TOKEN: &#39;pseudo_contains&#39; --&gt; &#39;:contains(text)&#39; at position 28</span>
<span class=go>## END PARSING</span>
<span class=go>SoupSieve(pattern=&#39;p:has(#id) &gt; span.some-class:contains(text)&#39;, namespaces=None, custom=None, flags=1)</span>
</code></pre></div> <h2 id=soupsieveselect_one><code>soupsieve.select_one()</code><a class=headerlink href=#soupsieveselect_one title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>select_one</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Select the specified tags.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>select_one</code> will return the first tag under the given tag that matches the given CSS selectors provided, or it will return <code>None</code> if a suitable tag was not found.</p> <p><code>select_one</code> accepts a CSS selector string, a <code>Tag</code>/<code>BeautifulSoup</code> object, an optional <a href=#namespaces>namespace</a> dictionary, and <code>flags</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>soupsieve</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>sv</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>select_one</span><span class=p>(</span><span class=s1>&#39;p:is(.a, .b, .c)&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=p>)</span>
<span class=go>&lt;p class=&quot;a&quot;&gt;Cat&lt;/p&gt;</span>
</code></pre></div> <h2 id=soupsieveselect><code>soupsieve.select()</code><a class=headerlink href=#soupsieveselect title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>select</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Select the specified tags.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>select</code> will return all tags under the given tag that match the given CSS selectors provided. You can also limit the number of tags returned by providing a positive integer via the <code>limit</code> parameter (0 means to return all tags).</p> <p><code>select</code> accepts a CSS selector string, a <code>Tag</code>/<code>BeautifulSoup</code> object, an optional <a href=#namespaces>namespace</a> dictionary, a <code>limit</code>, and <code>flags</code>.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>soupsieve</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>sv</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;p:is(.a, .b, .c)&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=p>)</span>
<span class=go>[&lt;p class=&quot;a&quot;&gt;Cat&lt;/p&gt;, &lt;p class=&quot;b&quot;&gt;Dog&lt;/p&gt;, &lt;p class=&quot;c&quot;&gt;Mouse&lt;/p&gt;]</span>
</code></pre></div> <h2 id=soupsieveiselect><code>soupsieve.iselect()</code><a class=headerlink href=#soupsieveiselect title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>iselect</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>node</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Select the specified tags.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>iselect</code> is exactly like <code>select</code> except that it returns a generator instead of a list.</p> <h2 id=soupsieveclosest><code>soupsieve.closest()</code><a class=headerlink href=#soupsieveclosest title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>closest</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match closest ancestor to the provided tag.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>closest</code> returns the tag closest to the given tag that matches the given selector. The element found must be a direct ancestor of the tag or the tag itself.</p> <p><code>closest</code> accepts a CSS selector string, a <code>Tag</code>/<code>BeautifulSoup</code> object, an optional <a href=#namespaces>namespace</a> dictionary, and <code>flags</code>.</p> <h2 id=soupsievematch><code>soupsieve.match()</code><a class=headerlink href=#soupsievematch title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>match</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match node.&quot;&quot;&quot;</span>
</code></pre></div> <p>The <code>match</code> function matches a given tag with a given CSS selector.</p> <p><code>match</code> accepts a CSS selector string, a <code>Tag</code>/<code>BeautifulSoup</code> object, an optional <a href=#namespaces>namespace</a> dictionary, and flags.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>nodes</span> <span class=o>=</span> <span class=n>sv</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;p:is(.a, .b, .c)&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;p:not(.b)&#39;</span><span class=p>,</span> <span class=n>nodes</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=go>True</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;p:not(.b)&#39;</span><span class=p>,</span> <span class=n>nodes</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=go>False</span>
</code></pre></div> <h2 id=soupsievefilter><code>soupsieve.filter()</code><a class=headerlink href=#soupsievefilter title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=n>select</span><span class=p>,</span> <span class=n>nodes</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Filter list of nodes.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>filter</code> takes an iterable containing HTML nodes and will filter them based on the provided CSS selector string. If given a <code>Tag</code>/<code>BeautifulSoup</code> object, it will iterate the direct children filtering them.</p> <p><code>filter</code> accepts a CSS selector string, an iterable containing nodes, an optional <a href=#namespaces>namespace</a> dictionary, and flags.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=s1>&#39;p:not(.b)&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=o>.</span><span class=n>div</span><span class=p>)</span>
<span class=go>[&lt;p class=&quot;a&quot;&gt;Cat&lt;/p&gt;, &lt;p class=&quot;c&quot;&gt;Mouse&lt;/p&gt;]</span>
</code></pre></div> <h2 id=soupsieveescape><code>soupsieve.escape()</code><a class=headerlink href=#soupsieveescape title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>escape</span><span class=p>(</span><span class=n>ident</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Escape CSS identifier.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>escape</code> is used to escape CSS identifiers. It follows the <a href=https://drafts.csswg.org/cssom/#common-serializing-idioms>CSS specification</a> and escapes any character that would normally cause an identifier to be invalid.</p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s2>&quot;.foo#bar&quot;</span><span class=p>)</span>
<span class=go>&#39;\\.foo\\#bar&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s2>&quot;()[]</span><span class=si>{}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=go>&#39;\\(\\)\\[\\]\\{\\}&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;--a&#39;</span><span class=p>)</span>
<span class=go>&#39;--a&#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;0&#39;</span><span class=p>)</span>
<span class=go>&#39;\\30 &#39;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>sv</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\0</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=go>&#39;ï¿½&#39;</span>
</code></pre></div> <div class="admonition new"> <p class=admonition-title>New in 1.9.0</p> <p><code>escape</code> is a new API function added in 1.9.0.</p> </div> <h2 id=soupsievecompile><code>soupsieve.compile()</code><a class=headerlink href=#soupsievecompile title="Permanent link"></a></h2> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compile</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>namespaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Compile CSS pattern.&quot;&quot;&quot;</span>
</code></pre></div> <p><code>compile</code> will pre-compile a CSS selector pattern returning a <code>SoupSieve</code> object. The <code>SoupSieve</code> object has the same selector functions available via the module without the need to specify the selector, namespaces, or flags.</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>SoupSieve</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match tags in Beautiful Soup with CSS selectors.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>match</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tag</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Match.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>closest</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tag</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Match closest ancestor.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>iterable</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Filter.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>select_one</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tag</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Select a single tag.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>select</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Select the specified tags.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>iselect</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tag</span><span class=p>,</span> <span class=n>limit</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Iterate the specified tags.&quot;&quot;&quot;</span>
</code></pre></div> <h2 id=soupsievepurge><code>soupsieve.purge()</code><a class=headerlink href=#soupsievepurge title="Permanent link"></a></h2> <p>Soup Sieve caches compiled patterns for performance. If for whatever reason, you need to purge the cache, simply call <code>purge</code>.</p> <h2 id=custom-selectors>Custom Selectors<a class=headerlink href=#custom-selectors title="Permanent link"></a></h2> <p>The custom selector feature is loosely inspired by the <code>css-extensions</code> <a href=https://drafts.csswg.org/css-extensions-1/ >proposal</a>. In its current form, Soup Sieve allows assigning a complex selector to a custom pseudo-class name. The pseudo-class name must start with <code>:--</code> to avoid conflicts with any future pseudo-classes.</p> <p>To create custom selectors, you simply need to pass a dictionary containing the custom pseudo-class names (keys) with the associated CSS selectors that the pseudo-classes are meant to represent (values). It is important to remember that pseudo-class names are not case sensitive, so even though a dictionary will allow you to specify multiple keys with the same name (as long as the character cases are different), Soup Sieve will not and will throw an exception if you attempt to do so.</p> <p>In the following example, we will define our own custom selector called <code class=highlight><span class=p>:</span><span class=nd>--header</span></code> that will be an alias for <code class=highlight><span class=nt>h1</span><span class=o>,</span><span class=w> </span><span class=nt>h2</span><span class=o>,</span><span class=w> </span><span class=nt>h3</span><span class=o>,</span><span class=w> </span><span class=nt>h4</span><span class=o>,</span><span class=w> </span><span class=nt>h5</span><span class=o>,</span><span class=w> </span><span class=nt>h6</span></code>.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>soupsieve</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>sv</span>
<span class=kn>import</span><span class=w> </span><span class=nn>bs4</span>

<span class=n>markup</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<span class=s2>&lt;html&gt;</span>
<span class=s2>&lt;body&gt;</span>
<span class=s2>&lt;h1 id=&quot;1&quot;&gt;Header 1&lt;/h1&gt;</span>
<span class=s2>&lt;h2 id=&quot;2&quot;&gt;Header 2&lt;/h2&gt;</span>
<span class=s2>&lt;p id=&quot;3&quot;&gt;&lt;/p&gt;</span>
<span class=s2>&lt;p id=&quot;4&quot;&gt;&lt;span&gt;child&lt;/span&gt;&lt;/p&gt;</span>
<span class=s2>&lt;/body&gt;</span>
<span class=s2>&lt;/html</span>
<span class=s2>&quot;&quot;&quot;</span>

<span class=n>soup</span> <span class=o>=</span> <span class=n>bs4</span><span class=o>.</span><span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>markup</span><span class=p>,</span> <span class=s1>&#39;lxml&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sv</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;:--header&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=p>,</span> <span class=n>custom</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;:--header&#39;</span><span class=p>:</span> <span class=s1>&#39;h1, h2, h3, h4, h5, h6&#39;</span><span class=p>}))</span>
</code></pre></div> <p>The above code, when run, should yield the following output:</p> <div class=highlight><pre><span></span><code>[&lt;h1 id=&quot;1&quot;&gt;Header 1&lt;/h1&gt;, &lt;h2 id=&quot;2&quot;&gt;Header 2&lt;/h2&gt;]
</code></pre></div> <p>Custom selectors can also be dependent upon other custom selectors. You don't have to worry about the order in the dictionary as custom selectors will be compiled "just in time" when they are needed. Be careful though, if you create a circular dependency, you will get a <code>SelectorSyntaxError</code>.</p> <p>Assuming the same markup as in the first example, we will now create a custom selector that should find any element that has child elements, we will call the selector <code>:--parent</code>. Then we will create another selector called <code>:--parent-paragraph</code> that will use the <code>:--parent</code> selector to find <code class=highlight><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span></code> elements that are also parents:</p> <div class=highlight><pre><span></span><code><span class=n>custom</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;:--parent&quot;</span><span class=p>:</span> <span class=s2>&quot;:has(&gt; *|*)&quot;</span><span class=p>,</span>
    <span class=s2>&quot;:--parent-paragraph&quot;</span><span class=p>:</span> <span class=s2>&quot;p:--parent&quot;</span>
<span class=p>}</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sv</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s1>&#39;:--parent-paragraph&#39;</span><span class=p>,</span> <span class=n>soup</span><span class=p>,</span> <span class=n>custom</span><span class=o>=</span><span class=n>custom</span><span class=p>))</span>
</code></pre></div> <p>The above code will yield the only paragraph that is a parent:</p> <div class=highlight><pre><span></span><code>[&lt;p id=&quot;4&quot;&gt;&lt;span&gt;child&lt;/span&gt;&lt;/p&gt;]
</code></pre></div> <h2 id=namespaces>Namespaces<a class=headerlink href=#namespaces title="Permanent link"></a></h2> <p>Many of Soup Sieve's selector functions take an optional namespace dictionary. Namespaces, just like CSS, must be defined for Soup Sieve to evaluate <code>ns|tag</code> type selectors. This is analogous to CSS's namespace at-rule:</p> <div class=highlight><pre><span></span><code><span class=p>@</span><span class=k>namespace</span><span class=w> </span><span class=nt>url</span><span class=o>(</span><span class=s2>&quot;http://www.w3.org/1999/xhtml&quot;</span><span class=o>)</span><span class=p>;</span>
<span class=p>@</span><span class=k>namespace</span><span class=w> </span><span class=nt>svg</span><span class=w> </span><span class=nt>url</span><span class=o>(</span><span class=s2>&quot;http://www.w3.org/2000/svg&quot;</span><span class=o>)</span><span class=p>;</span>
</code></pre></div> <p>A namespace dictionary should have keys (prefixes) and values (namespaces). An empty key string for a key would denote the default key. An empty value would essentially represent a null namespace. To represent the above CSS example for Soup Sieve, we would configure it like so:</p> <div class=highlight><pre><span></span><code><span class=n>namespace</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;&quot;</span><span class=p>:</span> <span class=s2>&quot;http://www.w3.org/1999/xhtml&quot;</span><span class=p>,</span>   <span class=c1># Default namespace is for XHTML</span>
    <span class=s2>&quot;svg&quot;</span><span class=p>:</span> <span class=s2>&quot;http://www.w3.org/2000/svg&quot;</span><span class=p>,</span>  <span class=c1># The SVG namespace defined with prefix of &quot;svg&quot;</span>
<span class=p>}</span>
</code></pre></div> <p>Prefixes used in the namespace dictionary do not have to match the prefixes in the document. The provided prefix is never compared against the prefixes in the document, only the namespaces are compared. The prefixes in the document are only there for the parser to know which tags get which namespace. And the prefixes in the namespace dictionary are only defined in order to provide an alias for the namespaces when using the namespace selector syntax: <code>ns|name</code>.</p> <p>Tags do not necessarily have to have a prefix for Soup Sieve to recognize them either. For instance, in HTML5, SVG <em>should</em> automatically get the SVG namespace. Depending how namespaces were defined in the document, tags may inherit namespaces in some conditions. Namespace assignment is mainly handled by the parser and exposed through the Beautiful Soup API. Soup Sieve uses the Beautiful Soup API to then compare namespaces for supported documents.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 31, 2023 14:57:43 UTC">August 31, 2023</span> </span> </aside> <footer class=sponsorship> <hr> <a href=https://github.com/sponsors/facelessuser title="Become a sponsor"> <span class="twemoji heart-throb-hover"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </a> <hr> </footer> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=footer.title> <a href=.. class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Quick Start </div> </div> </a> <a href=../faq/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> F.A.Q. </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2018 - 2025 <a href=https://github.com/facelessuser target=_blank rel=noopener>Isaac Muse</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> with emoji by <a href=https://github.com/twitter/twemoji target=_blank rel=noopener> Twemoji </a> </div> <div class=md-social> <a href=https://github.com/facelessuser target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.indexes", "toc.follow", "content.code.copy", "navigation.footer", "search.share", "search.highlight", "search.suggest"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.92b07e13.min.js></script> <script src=../assets/pymdownx-extras/extra-loader-B5CKpNQx.js></script> </body> </html>